<!DOCTYPE html>
<html class="<%= (typeof htmlClass !== 'undefined')?htmlClass:'' %>">
  <head>
    <title>CozyHR</title>

    <!-- Viewport mobile tag for sensible mobile support -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <% if(typeof noSkelJs === 'undefined') { %>
    <!-- Configure Skel.js -->
    <script>
      /* Skel.js */
      window._skel_config = {
        prefix: null,
        normalizeCSS: true,
        boxModel: 'border',
        grid: { gutters: 20 },
        breakpoints: {
          wide: { range: "1200-", containers: 1140, grid: { gutters: 20 } },
          narrow: { range: "481-1199", containers: 960 },
          mobile: { range: "-480", containers: "fluid", lockViewport: true, grid: { collapse: true } }
        }
      }
      /* Skel.js Panels */
      <% if(req.session.authenticated) { %>
        window._skel_panels_config = {
          overlays: {
            topMenu: {
              position: "top-left",
              width: "100%",
              height: 41
            },

            bottomMenu: {
              position: "bottom-left",
              width: "100%",
              height: 41
            }
          }
        }
      <% } %>
    </script>
    <% } %>

    <!--TEMPLATES-->
    <script type="text/javascript" src="/jst.js"></script>
    <!--TEMPLATES END-->

    <!--SCRIPTS-->
    <script src="/js/dependencies/sails.io.js"></script>
    <script src="/js/dependencies/jquery-1.11.1.min.js"></script>
    <script src="/js/dependencies/skel.0.4.9.min.js"></script>
    <script src="/js/dependencies/underscore.1.7.0-min.js"></script>
    <script src="/js/vendor/backbone.1.1.2/backbone-min.js"></script>
    <script src="/js/vendor/backbone.marionette.2.2.0/backbone.marionette.min.js"></script>
    <script src="/js/vendor/chosen.1.1.0/chosen.jquery.min.js"></script>
    <script src="/js/vendor/jbox.0.3.1/jBox.js"></script>
    <script src="/js/vendor/jquery-ui.1.11.1/jquery-ui.min.js"></script>
    <script src="/js/vendor/jquery.datatables.1.10.0/jquery.dataTables.min.js"></script>
    <script src="/js/vendor/mustache.0.8.2/mustache.js"></script>
    <script src="/js/vendor/skel-panels.0.4.9/skel-panels.0.4.9.min.js"></script>
    <script src="/js/vendor/soundjs.0.5.2/soundjs-0.5.2.min.js"></script>
    <script src="/js/vendor/sweetalert-0.3.2/sweet-alert.min.js"></script>
    <script src="/js/_client.js"></script>
    <script src="/js/backbone/views/auth/form.js"></script>
    <script src="/js/backbone/views/auth/signin.js"></script>
    <script src="/js/admin.js"></script>
    <script src="/js/backbone/app.js"></script>
    <script src="/js/dashboard.js"></script>
    <script src="/js/signin.js"></script>
    <script src="/js/timeclock.js"></script>
    <!--SCRIPTS END-->

    <!--STYLES-->
    <link rel="stylesheet" href="/js/vendor/chosen.1.1.0/chosen.min.css">
    <link rel="stylesheet" href="/js/vendor/font-awesome.4.2.0/css/font-awesome.css">
    <link rel="stylesheet" href="/js/vendor/jbox.0.3.1/jBox.css">
    <link rel="stylesheet" href="/js/vendor/jbox.0.3.1/themes/ModalBorder.css">
    <link rel="stylesheet" href="/js/vendor/jbox.0.3.1/themes/NoticeBorder.css">
    <link rel="stylesheet" href="/js/vendor/jbox.0.3.1/themes/TooltipBorder.css">
    <link rel="stylesheet" href="/js/vendor/jbox.0.3.1/themes/TooltipDark.css">
    <link rel="stylesheet" href="/js/vendor/jquery.datatables.1.10.0/jquery.dataTables.css">
    <link rel="stylesheet" href="/js/vendor/sweetalert-0.3.2/sweet-alert.css">
    <link rel="stylesheet" href="/styles/styles.css">
    <!--STYLES END-->
  </head>

  <body class="<%= (typeof bodyClass !== 'undefined')?bodyClass:'' %>">
    <% if(req.session.authenticated) { %>
      <%- partial('topbar') %>
    <% } %>

    <div id="mainContainer" class="container <%= (typeof extraContainerClass !== 'undefined')?extraContainerClass:'' %>">

    </div>

    <% if(req.session.authenticated) { %>
      <%- partial('bottombar') %>
    <% } %>

    <% if(typeof mustacheTemplates !== 'undefined') { %>
      <% for(var i = 0; i < mustacheTemplates.length; i++) { %>
        <script id="<%= mustacheTemplates[i] %>" type="x-tmpl-mustache">
          <%- partial('_mustache/' + mustacheTemplates[i] + '.mustache') %>
        </script>
      <% } %>
    <% } %>

    <script>
    <% if(req.session.authenticated) { %>
      CozyHR.userId = "<%- req.session.userinfo.id %>";
      CozyHR.env = "<%- ENV %>";
    <% } else { %>
      CozyHR.env = "<%- ENV %>";
    <% } %>
    </script>

    </body>
</html>
